Resources:
  Ec2ForDlVpcE65EB314:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.10.0.0/23
      EnableDnsHostnames: true
      EnableDnsSupport: true
      InstanceTenancy: default
      Tags:
        - Key: Name
          Value: Ec2ForDl/Ec2ForDl-Vpc
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/Resource
  Ec2ForDlVpcpublicSubnet1Subnet57047971:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.10.0.0/23
      VpcId:
        Ref: Ec2ForDlVpcE65EB314
      AvailabilityZone: ap-northeast-1a
      MapPublicIpOnLaunch: true
      Tags:
        - Key: aws-cdk:subnet-name
          Value: public
        - Key: aws-cdk:subnet-type
          Value: Public
        - Key: Name
          Value: Ec2ForDl/Ec2ForDl-Vpc/publicSubnet1
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/publicSubnet1/Subnet
  Ec2ForDlVpcpublicSubnet1RouteTable939D7A29:
    Type: AWS::EC2::RouteTable
    Properties:
      VpcId:
        Ref: Ec2ForDlVpcE65EB314
      Tags:
        - Key: Name
          Value: Ec2ForDl/Ec2ForDl-Vpc/publicSubnet1
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/publicSubnet1/RouteTable
  Ec2ForDlVpcpublicSubnet1RouteTableAssociation71815FCA:
    Type: AWS::EC2::SubnetRouteTableAssociation
    Properties:
      RouteTableId:
        Ref: Ec2ForDlVpcpublicSubnet1RouteTable939D7A29
      SubnetId:
        Ref: Ec2ForDlVpcpublicSubnet1Subnet57047971
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/publicSubnet1/RouteTableAssociation
  Ec2ForDlVpcpublicSubnet1DefaultRoute1E050367:
    Type: AWS::EC2::Route
    Properties:
      RouteTableId:
        Ref: Ec2ForDlVpcpublicSubnet1RouteTable939D7A29
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId:
        Ref: Ec2ForDlVpcIGW1AE92644
    DependsOn:
      - Ec2ForDlVpcVPCGW2C274136
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/publicSubnet1/DefaultRoute
  Ec2ForDlVpcIGW1AE92644:
    Type: AWS::EC2::InternetGateway
    Properties:
      Tags:
        - Key: Name
          Value: Ec2ForDl/Ec2ForDl-Vpc
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/IGW
  Ec2ForDlVpcVPCGW2C274136:
    Type: AWS::EC2::VPCGatewayAttachment
    Properties:
      VpcId:
        Ref: Ec2ForDlVpcE65EB314
      InternetGatewayId:
        Ref: Ec2ForDlVpcIGW1AE92644
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Vpc/VPCGW
  Ec2ForDlSgE309C7DD:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: Ec2ForDl/Ec2ForDl-Sg
      SecurityGroupEgress:
        - CidrIp: 0.0.0.0/0
          Description: Allow all outbound traffic by default
          IpProtocol: "-1"
      SecurityGroupIngress:
        - CidrIp: 0.0.0.0/0
          Description: from 0.0.0.0/0:22
          FromPort: 22
          IpProtocol: tcp
          ToPort: 22
      VpcId:
        Ref: Ec2ForDlVpcE65EB314
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Sg/Resource
  Ec2ForDlInstanceInstanceRoleB7875055:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: ec2.amazonaws.com
        Version: "2012-10-17"
      Tags:
        - Key: Name
          Value: Ec2ForDl/Ec2ForDl-Instance
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Instance/InstanceRole/Resource
  Ec2ForDlInstanceInstanceProfile501596D9:
    Type: AWS::IAM::InstanceProfile
    Properties:
      Roles:
        - Ref: Ec2ForDlInstanceInstanceRoleB7875055
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Instance/InstanceProfile
  Ec2ForDlInstanceF0415522:
    Type: AWS::EC2::Instance
    Properties:
      AvailabilityZone: ap-northeast-1a
      IamInstanceProfile:
        Ref: Ec2ForDlInstanceInstanceProfile501596D9
      ImageId: ami-09c0c16fc46a29ed9
      InstanceType: g4dn.xlarge
      SecurityGroupIds:
        - Fn::GetAtt:
            - Ec2ForDlSgE309C7DD
            - GroupId
      SubnetId:
        Ref: Ec2ForDlVpcpublicSubnet1Subnet57047971
      Tags:
        - Key: Name
          Value: Ec2ForDl/Ec2ForDl-Instance
      UserData:
        Fn::Base64: "#!/bin/bash"
    DependsOn:
      - Ec2ForDlInstanceInstanceRoleB7875055
    Metadata:
      aws:cdk:path: Ec2ForDl/Ec2ForDl-Instance/Resource
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAAA1VQy26DMBD8ltwdB9IfaMQhyqkIotzNdqO4AS+ydxUhy/9eCFDU087OzD5znWeZznaf5hX28P08RCCPOtZs4KkqDCQeUBV39yXcC6uCXGAvwBO36klN5RHhqOOth0m6lYUqpWkt1NI4fNs3VJEwXk3T4sZv3CkEAmvYkvszT+DiGP3oPBvGlxmWMUt24nHlR4eOVY0g3vJw9iT9e8A/4jJeYBwsLWeclDWdjhXNG61xlUtPd9tiSkmVAz/IHT7Gx+n8uPsJ1u69OLYd6mqOv1FY091VAQAA
    Metadata:
      aws:cdk:path: Ec2ForDl/CDKMetadata/Default
Outputs:
  InstancePublicDnsName:
    Value:
      Fn::GetAtt:
        - Ec2ForDlInstanceF0415522
        - PublicDnsName
  InstancePublicIp:
    Value:
      Fn::GetAtt:
        - Ec2ForDlInstanceF0415522
        - PublicIp

